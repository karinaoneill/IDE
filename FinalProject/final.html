<!DOCTYPE html>
<html>
<head>
    <title>London International Migration</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="london_boroughs_proper.geojson"></script>
    <script src="sf_crime.geojson"></script>
    <script type="text/javascript" src="tooltips.js"></script>
   <style>
      .bar {
        fill: mediumpurple;
      }
      .bar:hover {
        fill: chartreuse;
      }
      .axis--x path {
        display: none;
      }
      .contentDiv {
        background-color: "#caf0fb";
        height: 200px;
        position: bottom;
        width: 200px;
      }

      .tooltip {
	    background-color: rgba(0, 0, 0, 0.0);
	    margin: 10px;
	    height: 55px;
	    width: 180px;
	    padding-left: 10px;
	    padding-top: 10px;
	    -webkit-border-radius: 10px;
	    -moz-border-radius: 10px;
	    border-radius: 10px;
	  }

ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: #A9D8C8;
    position: fixed;
    top: 0;
    width: 100%;
}

li {
    float: left;
}

li a {
    display: block;
    color: #433447;
    font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
}

li a:hover:not(.active) {
    background-color: #B3AD9E;
    text-decoration: none;
}

.active {
    background-color: #D16B54;
}
	   
li2 {
    float: right;
    background-color: #B3AD9E;
    text-decoration: none;
    display: block;
    color: #433447;
    font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
    padding: 14px 16px;
}
	   
h1 {
    color: #4d4d4d;
    font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
    font-weight: bold;
    text-align: center;
}   
  
h2 {
    color: #433447;
    font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
} 
    
p {
    color: #433447;
    font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
} 
    
.offset:before { 
	display: block; 
 	content: " "; 
  	height: 70px;      /* Give height of your fixed element */
        margin-top: -40px; /* Give negative margin of your fixed element */  	
        visibility: hidden; 
}
    
</style>
</head>

<body style="background:#f3f3f3 url('london_bkgrnd.jpg')">

<ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#international_migration">International Migration</a></li>
  <li><a href="#brexit_results">Brexit Results</a></li>
  <li><a href="#findings_conclusion">Findings and Conclusion</a></li>
  <li2>Karina O'Neill</li2>
</ul>

<div style="padding:20px;margin-top:30px;background-color:rgba(225, 161, 161, 0.85);height:3000px;" class="container">
    <h1>Final Assignment: London International Migration and Brexit</h1>
	
    <div class="panel-group">
	    
    <div id="introduction" class="offset panel panel-default">
	 <h2 class="panel-heading">Introduction</h2>
	 <p class="panel-body">London is a melting pot of nationalities and cultures from all over the world, with its population now larger than ever before, at over 8.6 million. The demographic makeup of this global city appeared to be reflected in the recent EU referendum vote in the UK in 2016, with the UK voting to leave the EU despite 60% of Londoners voting to leave. Perhaps the more “Britain-centric” vote was cast by those in areas with lower international immigration. Migration has been a key topic in UK and global politics in recent years. I will look at migration data over the years leading up to the 2016 EU referendum and the referendum votes by borough.</p>
    </div>
	    
    <div id="international_migration" class="offset panel panel-default">
         <h2 class="panel-heading">International Migration</h2>
    	 <p class="panel-body"><a href="https://data.london.gov.uk/dataset/london-borough-profiles" target="_blank">The London Datastore</a> provides a wide variety of London-related open databases, including data about the percentage of residents, by borough in 2014, that were foreign-born. Below is a choropleth map of London, geographically representing this data by borough using <a href="https://carto.com/" target="_blank">cartoDB.com</a>. The London borough boundaries are available in geojson format <a href="https://joshuaboyd1.carto.com/tables/london_boroughs_proper/public" target="_blank">here</a>. The London Datastore data was in CSV format, so the CSV files were joined and edited using Python and then joined with the geojson data using a pre-existing script from <a href="https://github.com/gavinr/geojson-csv-join" target="_blank">here</a>.</p>
	 <p class="panel-body">We can see that the boroughs with the highest percentage of foreign-born residents were Hounslow, Harrow, Brent, Kensington and Chelsea, Westminster and Newham. Apart from Newham, these are all central and in the West. The boroughs with the lowest percentage were all in East London - Bexley, Havering and Bromley.</p>
    	 <p class="panel-body">Hover over the boroughs to show foreign-born percentage as well as the largest migrant population of that borough in 2011 and arriving in 2014/15. The map can be zoomed in on using the plus/minus buttons or a laptop trackpad. There is also a search function for searching for locations on the map.</p>
	 <iframe width="100%" height="580" frameborder="0" src="https://karinaoneill.carto.com/builder/14b97064-dce3-11e6-884d-0e3ff518bd15/embed" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>
         <p class="panel-body">We can look at international net migration to London, over time, using data from <a href="https://data.london.gov.uk/dataset/net-migration-and-natural-change-region" target="_blank">The London Datastore</a> again to build the below choropleth map. Data is provided here, by borough, for the years of 2002 to 2014. I have looked at 2007-2014, as the years leading up to the EU referendum. This narrower selection was also made because the free account on cartoDB.com only allows for 8 layers of data on one map and this was how I set up the time dimension on the map. We can look at the net international migration by year by using the layer selector on the map.</p>
	 <p class="panel-body">The % net international migration was calculated as the net international migration for a borough as a proportion of total net international migration in London for that year. We can see that 2010 saw the highest % international net migration, in Newham at 18.2%. The average net international migration across all boroughs did not vary much from 2007 to 2014, with both having an average of 3.04%. South and East London had the lowest net migration across the 8 years. Newham had the highest % of the net migration every year, except in 2013 when Newham had 9% but Westminster had 0.5% more at 9.5%.</p>
	 <iframe width="100%" height="580" frameborder="0" src="https://karinaoneill.carto.com/builder/d1d44b2c-de6b-11e6-9e2c-0ee66e2c9693/embed" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>
    	 
    </div>
	    
    <div id="brexit_results" class="offset panel panel-default">
    	<h2 class="panel-heading">Brexit Results</h2>
    	<p class="panel-body">Add scatter plot of brexit results vs % foreign-born. Discuss in findings that could be foreign-born voting and/or native pop voting that sways it etc. Say something about Brexit in relation to population and international migration... Hover over a borough to see the remain/leave vote percentages. The borough name is also shown, in case it is not clear to the reader which borough they are hovering over. The map legend shows that red-coloured boroughs were those that voted to remain and those in blue voted to leave the EU. Need to add %migrant population stat. Used code from this site to choropleth the remain/leave <a href="https://carto.com/learn/guides/styling/choropleth-map-for-statistical-data" target="_blank">link text</a>. On the right side bar, you can see the total number of votes for leave and remain. Select a borough from the sidebar to show the leave and remain votes for that borough.</p>
    	<iframe width="100%" height="580" frameborder="0" src="https://karinaoneill.carto.com/builder/03b7f8ec-dcc7-11e6-aa9f-0e233c30368f/embed" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>
    </div>
	    
    <div id="findings_conclusion" class="offset panel panel-default">
    	<h2 class="panel-heading">Findings and Conclusion</h2>
    	<p class="panel-body">Findings and conclusions paragraph... need to make this section long/add space to bottom of page so that heading is at top of page when navigated to...</p>
    
	    
    </div>
	</div>
	</div>
	
</body>
</html>
